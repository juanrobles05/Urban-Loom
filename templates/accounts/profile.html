{% extends "base.html" %}

{% block title %}Mi Perfil{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Mi perfil</h2>

<form method="post" enctype="multipart/form-data" class="bg-white p-6 rounded shadow max-w-lg">
    {% csrf_token %}
    <h3 class="text-lg font-semibold mb-2">Información de usuario</h3>
    {{ user_form.as_p }}

    <h3 class="text-lg font-semibold mb-2 mt-4">Perfil</h3>
    {{ profile_form.as_p }}

    <button type="submit" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded">Guardar cambios</button>
</form>

<h3>Direcciones de envío</h3>
<ul>
    {% for address in user.shipping_addresses.all %}
    <li>
        {{ address.street }}, {{ address.city }}, {{ address.state_or_province }}, {{ address.postal_code }}
        <a href="{% url 'edit_shipping_address' address.id %}">Editar</a>
        <a href="{% url 'delete_shipping_address' address.id %}">Eliminar</a>
    </li>
    {% empty %}
    <li>No tienes direcciones guardadas.</li>
    {% endfor %}
</ul>
<a href="{% url 'add_shipping_address' %}">Agregar nueva dirección</a>
{% endblock %}
